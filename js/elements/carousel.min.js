!function($,_undefined){"use strict";function usCarousel(container){const self=this;self.$container=$(container);self.$carousel=$('.w-grid-list.owl-carousel',self.$container);self.options={navElement:'button',navText:['',''],responsiveRefreshRate:100,};self._events={initializedOwlCarousel:self.initializedOwlCarousel.bind(self),mousedownOwlCore:self.mousedownOwlCore.bind(self),};const $elmSettings=$('.w-grid-json',self.$container);if($elmSettings.is('[onclick]')){$.extend(self.options,($elmSettings[0].onclick()||{}).carousel_settings||{})}
$elmSettings.remove();if($us.$html.hasClass('touch')||$us.$html.hasClass('ios-touch')){self.options.mouseDrag=!1}
if($us.usbPreview()){$.extend(self.options,{autoplayHoverPause:!0,mouseDrag:!1,touchDrag:!1,loop:!1,})}
if(self.options.autoplayContinual){$.extend(self.options,{slideTransition:'linear',autoplaySpeed:self.options.autoplayTimeout,smartSpeed:self.options.autoplayTimeout,});if(!self.options.autoWidth){self.options.slideBy=1}}
self.$carousel.on('initialized.owl.carousel',self._events.initializedOwlCarousel).on('mousedown.owl.core',self._events.mousedownOwlCore);self.owlCarousel=self.$carousel.owlCarousel(self.options).data('owl.carousel');if(self.owlCarousel&&self.options.autoplayContinual){self.$carousel.trigger('next.owl.carousel')}
if(self.owlCarousel&&self.options.aria_labels.prev&&self.options.aria_labels.next){$('.owl-prev',self.$carousel).attr('aria-label',self.options.aria_labels.prev);$('.owl-next',self.$carousel).attr('aria-label',self.options.aria_labels.next)}
const screenSize=String(self.$carousel[0].className).match(/owl-responsive-(\d+)/)[1];const carouselResponsive=(self.options.responsive||{})[screenSize];if(carouselResponsive){if(carouselResponsive.items===1){self.$carousel.toggleClass('autoheight',carouselResponsive.autoHeight)}
self.$carousel.toggleClass('with_dots',carouselResponsive.dots)}
if($('[ref=magnificPopupGrid]',self.$carousel).length>0){$ush.timeout(self.initMagnificPopup.bind(self),1)}
self.initKeyboardNav(carouselResponsive)}
$.extend(usCarousel.prototype,{initKeyboardNav:function(carouselResponsive){const self=this;const focusableSelectors=['a[href]','area[href]','input:not([disabled])','select:not([disabled])','textarea:not([disabled])','button:not([disabled])','iframe','object','embed','[tabindex]:not([tabindex="-1"])','[contenteditable]','video[controls] source'].join();$ush.timeout(()=>{self.$carousel.find('.owl-item.cloned').find(focusableSelectors).attr('tabindex',-1)},100);if(carouselResponsive.autoplay){var lastFocused=null;self.$carousel.off('focusin.carouselKeyboardNav').on('focusin.carouselKeyboardNav',(e)=>{self.$carousel.trigger('stop.owl.autoplay');const $allItems=$('.owl-item:not(.cloned)',self.$carousel);const $mainActive=$('.owl-item.active:not(.cloned)',self.$carousel);const $first=$(focusableSelectors,$mainActive).first();if(!$first.length){return}
if(!$allItems.has(e.target).length){return}
if($first[0]===e.target||$first[0]===lastFocused){return}
if(!$mainActive.has(e.target).length){$first.focus();lastFocused=$first[0]}});self.$carousel.off('focusout.carouselKeyboardNav').on('focusout.carouselKeyboardNav',()=>{self.$carousel.trigger('play.owl.autoplay')})}
if(carouselResponsive.items===1&&!carouselResponsive.loop){self.$carousel.off('keyup.carouselKeyboardNav').on('keyup.carouselKeyboardNav',(e)=>{if(e.keyCode!==$ush.TAB_KEYCODE){return}
const $owlItem=$(e.target).closest('.owl-item');if(!$owlItem.length){return}
if(e.shiftKey){self.$carousel.trigger('to.owl.carousel',[$owlItem.index()])}else{self.$carousel.trigger('to.owl.carousel',[$owlItem.index(),0])}})}
self.$carousel.off('keydown.carouselKeyboardNav').on('keydown.carouselKeyboardNav',(e)=>{if(e.keyCode!==$ush.TAB_KEYCODE||carouselResponsive.items===1){return}
if(self.options.slideBy==='page'){const $activeItems=$('.owl-item.active:not(.cloned)',self.$carousel);const $focusables=$(focusableSelectors,$activeItems).filter(':visible');const index=$focusables.index(e.target);if(index<0){return}
if(!e.shiftKey&&index===$focusables.length-1){self.$carousel.trigger('stop.owl.autoplay');self.$carousel.trigger('next.owl.carousel',[0])}
if(e.shiftKey&&index===0){self.$carousel.trigger('stop.owl.autoplay');self.$carousel.trigger('prev.owl.carousel',[0])}}else{const $owlItem=$(e.target).closest('.owl-item');if(!$owlItem.length){return}
const $focusables=$(focusableSelectors,$owlItem).filter(':visible');const index=$focusables.index(e.target);if(e.shiftKey&&index===0){self.$carousel.trigger('prev.owl.carousel',carouselResponsive.items===1?[0]:null)}
if(!e.shiftKey&&index===$focusables.length-1){self.$carousel.trigger('next.owl.carousel',carouselResponsive.items===1?[0]:null)}}});self.$carousel.on('keydown.carouselArrowsNav',focusableSelectors,(e)=>{switch(e.keyCode){case 37:e.preventDefault();self.$carousel.trigger('prev.owl.carousel');break;case 39:e.preventDefault();self.$carousel.trigger('next.owl.carousel');break}})},initMagnificPopup:function(){const self=this;const globalOpts=$us.langOptions.magnificPopup||{};self.$carousel.magnificPopup({type:'image',delegate:'.owl-item:not(.cloned) a[ref=magnificPopupGrid]',gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1],tPrev:globalOpts.tPrev,tNext:globalOpts.tNext,tCounter:globalOpts.tCounter},image:{titleSrc:'aria-label'},removalDelay:300,mainClass:'mfp-fade',fixedContentPos:!0,callbacks:{beforeOpen:function(){if(self.owlCarousel&&self.owlCarousel.settings.autoplay){self.$carousel.trigger('stop.owl.autoplay')}},beforeClose:function(){if(self.owlCarousel&&self.owlCarousel.settings.autoplay){self.$carousel.trigger('play.owl.autoplay')}}}});self.$carousel.on('initialized.owl.carousel',(e)=>{const items={};const $list=$(e.currentTarget);$('.owl-item:not(.cloned)',$list).each((_,owlItem)=>{const $owlItem=$(owlItem);const id=$('[data-id]',$owlItem).data('id');if(!items[id]){items[id]=$owlItem}});$list.on('click','.owl-item.cloned',(e)=>{e.preventDefault();e.stopPropagation();const id=$('[data-id]',e.currentTarget).data('id');if(items[id]){$('a[ref=magnificPopupGrid]',items[id]).trigger('click')}})})},initializedOwlCarousel:function(e){const self=this;const $toggleLinks=$('[data-content-height]',e.currentTarget);$toggleLinks.each((_,node)=>{const $node=$(node);var usCollapsibleContent=$node.data('usCollapsibleContent');if($ush.isUndefined(usCollapsibleContent)){usCollapsibleContent=$node.usCollapsibleContent().data('usCollapsibleContent')}
usCollapsibleContent.setHeight();$ush.timeout(()=>{self.$carousel.trigger('refresh.owl.carousel')},1)});if($.isMobile&&self.$carousel.closest('.w-tabs-section.active').length>0){$ush.timeout(()=>{self.$carousel.trigger('refresh.owl.carousel')},50)}
if(self.options.autoHeight){$toggleLinks.on('showContent',()=>{self.$carousel.trigger('refresh.owl.carousel')})}},mousedownOwlCore:function(e){const self=this;if(!String(e.target.className).includes('collapsible-content-')){return}
if(self.owlCarousel.settings.mouseDrag){self.owlCarousel.$stage.trigger('mouseup.owl.core')}
if(self.owlCarousel.settings.touchDrag){self.owlCarousel.$stage.trigger('touchcancel.owl.core')}}});$.fn.usCarousel=function(){return this.each(function(){$(this).data('usCarousel',new usCarousel(this))})};$(()=>$('.w-grid.type_carousel').usCarousel())}(jQuery)